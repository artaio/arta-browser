import type { TrackingConfig } from '../../trackingConfig';
import type { ArtaLocation, Shipment } from '../TrackingDrawer';

export interface ShipToFromProps {
  shipment: Shipment;
  config: TrackingConfig;
}

export const ShipToFrom = ({ config, shipment }: ShipToFromProps) => {
  const formatAddress = (address?: ArtaLocation) => {
    const parts = [
      address?.city,
      address?.region,
      address?.postal_code,
      address?.country,
    ].filter(Boolean);

    return parts.join(', ');
  };

  const style = config.style.variant === 'default' ? 'row' : 'stack';

  return (
    <div class="artajas__tracking__location__wrapper">
      <div class={`artajs__tracking__location__${style}`}>
        {shipment.origin && <div class={`artajs__tracking__location__item__${style}`}>
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M11.6545 0.212093C10.0285 0.277632 8.45344 0.840471 7.14725 1.82269C6.64673 2.19908 6.16259 2.66223 5.75607 3.15359C4.57861 4.57675 3.91704 6.41416 3.91687 8.2617C3.9167 10.0106 5.03372 12.9106 7.32097 17.0994C8.29574 18.8846 9.50182 20.9201 10.7612 22.9056C11.0118 23.3007 11.0523 23.3575 11.15 23.4511C11.3223 23.6164 11.5418 23.73 11.7772 23.7758C11.8898 23.7977 12.1103 23.7977 12.2229 23.7758C12.4566 23.7303 12.6769 23.6168 12.8474 23.454C12.9467 23.3591 12.9798 23.3128 13.2295 22.9199C14.3764 21.1152 15.5885 19.0784 16.5143 17.4C18.6669 13.4975 19.8454 10.641 20.0492 8.83199C20.0967 8.4102 20.092 7.94252 20.0348 7.40639C19.8826 5.97867 19.338 4.59831 18.4715 3.44373C18.0817 2.92428 17.6025 2.42594 17.0929 2.00995C16.0322 1.14425 14.733 0.553364 13.3825 0.322455C12.8067 0.224016 12.2464 0.188227 11.6545 0.212093ZM11.5061 1.69517C10.4115 1.78027 9.37908 2.1223 8.45765 2.70509C7.668 3.20453 6.93875 3.93035 6.43475 4.71845C5.90998 5.53904 5.57394 6.45728 5.44803 7.41464C5.39709 7.80194 5.37736 8.33101 5.40392 8.59679C5.558 10.1383 6.64765 12.7918 8.58523 16.344C9.29046 17.6369 10.1355 19.0922 11.024 20.544C11.5111 21.3399 11.9875 22.0992 11.9998 22.0992C12.0163 22.0992 12.7806 20.871 13.3172 19.9824C16.3487 14.9624 18.2047 11.0422 18.5521 8.92546C18.5951 8.66375 18.6072 8.50937 18.6063 8.23199C18.6026 6.99368 18.242 5.77655 17.5654 4.71845C17.0616 3.93074 16.3331 3.20565 15.5425 2.70517C14.6148 2.11789 13.5841 1.77834 12.4753 1.69462C12.2406 1.67691 11.7373 1.6772 11.5061 1.69517ZM11.8273 4.61888C10.7362 4.66386 9.7063 5.21285 9.04803 6.10026C8.76152 6.4865 8.56236 6.90406 8.44338 7.36799C8.37607 7.63043 8.34933 7.80522 8.33226 8.09453C8.31509 8.38522 8.3379 8.70955 8.39626 9.00479C8.69014 10.4916 9.88912 11.6582 11.3809 11.9087C11.6099 11.9472 11.7333 11.9568 12.0001 11.9568C12.2668 11.9568 12.3902 11.9472 12.6193 11.9087C14.1102 11.6583 15.3121 10.4889 15.604 9.00476C15.7403 8.31169 15.6729 7.57052 15.4153 6.93119C15.0728 6.08074 14.4552 5.40961 13.6369 4.99847C13.19 4.77398 12.6706 4.63768 12.2017 4.62185C12.1198 4.61909 12.0399 4.61573 12.0241 4.61438C12.0082 4.61305 11.9197 4.61507 11.8273 4.61888ZM11.7605 6.09741C11.2731 6.14831 10.7989 6.37645 10.4451 6.73028C10.1157 7.05968 9.91081 7.4563 9.82556 7.92959C9.80344 8.05238 9.79536 8.38481 9.81106 8.52687C9.85798 8.95181 10.0364 9.37132 10.3082 9.69599C10.662 10.1185 11.1466 10.3882 11.6977 10.4694C11.8548 10.4925 12.1453 10.4925 12.3025 10.4694C12.9346 10.3763 13.4818 10.032 13.835 9.50516C13.9687 9.30577 14.0973 9.00469 14.1496 8.76893C14.1961 8.55936 14.2126 8.24868 14.1884 8.03999C14.0686 7.00877 13.2506 6.20012 12.2222 6.09641C12.1065 6.08475 11.8771 6.08525 11.7605 6.09741Z"
              fill="#110F10"
            />
          </svg>
          <div class="artajs__tracking__location__text__wrapper">
            <div class="artajs__tracking__location__text__header">
              <div class="artajs__tracking__top__date__day">
                {config.text.shipsFromLabel}
              </div>
            </div>
            <div class="artajs__tracking__timeline__status__date__content">
              {formatAddress(shipment.origin)}
            </div>
          </div>
        </div>}
        {shipment.destination && <div class={`artajs__tracking__location__item__${style}`}>
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M11.6545 0.212093C10.0285 0.277632 8.45344 0.840471 7.14725 1.82269C6.64673 2.19908 6.16259 2.66223 5.75607 3.15359C4.57861 4.57675 3.91704 6.41416 3.91687 8.2617C3.9167 10.0106 5.03372 12.9106 7.32097 17.0994C8.29574 18.8846 9.50182 20.9201 10.7612 22.9056C11.0118 23.3007 11.0523 23.3575 11.15 23.4511C11.3223 23.6164 11.5418 23.73 11.7772 23.7758C11.8898 23.7977 12.1103 23.7977 12.2229 23.7758C12.4566 23.7303 12.6769 23.6168 12.8474 23.454C12.9467 23.3591 12.9798 23.3128 13.2295 22.9199C14.3764 21.1152 15.5885 19.0784 16.5143 17.4C18.6669 13.4975 19.8454 10.641 20.0492 8.83199C20.0967 8.4102 20.092 7.94252 20.0348 7.40639C19.8826 5.97867 19.338 4.59831 18.4715 3.44373C18.0817 2.92428 17.6025 2.42594 17.0929 2.00995C16.0322 1.14425 14.733 0.553364 13.3825 0.322455C12.8067 0.224016 12.2464 0.188227 11.6545 0.212093ZM11.5061 1.69517C10.4115 1.78027 9.37908 2.1223 8.45765 2.70509C7.668 3.20453 6.93875 3.93035 6.43475 4.71845C5.90998 5.53904 5.57394 6.45728 5.44803 7.41464C5.39709 7.80194 5.37736 8.33101 5.40392 8.59679C5.558 10.1383 6.64765 12.7918 8.58523 16.344C9.29046 17.6369 10.1355 19.0922 11.024 20.544C11.5111 21.3399 11.9875 22.0992 11.9998 22.0992C12.0163 22.0992 12.7806 20.871 13.3172 19.9824C16.3487 14.9624 18.2047 11.0422 18.5521 8.92546C18.5951 8.66375 18.6072 8.50937 18.6063 8.23199C18.6026 6.99368 18.242 5.77655 17.5654 4.71845C17.0616 3.93074 16.3331 3.20565 15.5425 2.70517C14.6148 2.11789 13.5841 1.77834 12.4753 1.69462C12.2406 1.67691 11.7373 1.6772 11.5061 1.69517ZM11.8273 4.61888C10.7362 4.66386 9.7063 5.21285 9.04803 6.10026C8.76152 6.4865 8.56236 6.90406 8.44338 7.36799C8.37607 7.63043 8.34933 7.80522 8.33226 8.09453C8.31509 8.38522 8.3379 8.70955 8.39626 9.00479C8.69014 10.4916 9.88912 11.6582 11.3809 11.9087C11.6099 11.9472 11.7333 11.9568 12.0001 11.9568C12.2668 11.9568 12.3902 11.9472 12.6193 11.9087C14.1102 11.6583 15.3121 10.4889 15.604 9.00476C15.7403 8.31169 15.6729 7.57052 15.4153 6.93119C15.0728 6.08074 14.4552 5.40961 13.6369 4.99847C13.19 4.77398 12.6706 4.63768 12.2017 4.62185C12.1198 4.61909 12.0399 4.61573 12.0241 4.61438C12.0082 4.61305 11.9197 4.61507 11.8273 4.61888ZM11.7605 6.09741C11.2731 6.14831 10.7989 6.37645 10.4451 6.73028C10.1157 7.05968 9.91081 7.4563 9.82556 7.92959C9.80344 8.05238 9.79536 8.38481 9.81106 8.52687C9.85798 8.95181 10.0364 9.37132 10.3082 9.69599C10.662 10.1185 11.1466 10.3882 11.6977 10.4694C11.8548 10.4925 12.1453 10.4925 12.3025 10.4694C12.9346 10.3763 13.4818 10.032 13.835 9.50516C13.9687 9.30577 14.0973 9.00469 14.1496 8.76893C14.1961 8.55936 14.2126 8.24868 14.1884 8.03999C14.0686 7.00877 13.2506 6.20012 12.2222 6.09641C12.1065 6.08475 11.8771 6.08525 11.7605 6.09741Z"
              fill="#110F10"
            />
          </svg>
          <div class="artajs__tracking__location__text__wrapper">
            <div class="artajs__tracking__location__text__header">
              <div class="artajs__tracking__top__date__day">
                {config.text.shipsToLabel}
              </div>
            </div>
            <div class="artajs__tracking__timeline__status__date__content">
              {formatAddress(shipment.destination)}
            </div>
          </div>
        </div>}
      </div>
    </div>
  );
};
